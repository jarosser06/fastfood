{
  "id": "database",
  "default_type": "mysql_master",
  "dependencies": [
    "rackspace_iptables"
  ],
  "options": {
    "database": {
      "help": "the name of the database to create"
    },
    "databag": {
      "help": "The name of the data bag to load the mysql username and password from.  Not used if the role is a slave"
    },
    "user": {
      "help": "The user to create with permissions to the database"
    },
    "password": {
      "help": "The password to use for the User.  Option not used if role is slave"
    },
    "openfor": {
      "help": "A tag used to locate what nodes to open the firewall for"
    }
  },
  "types": {
    "mysql_master": {
      "dependencies": [
        "database",
        "mysql-multi"
      ],
      "files": {
        "recipes/<NAME>.rb": "recipes/mysql_master.rb",
        "test/unit/spec/<NAME>_spec.rb": "test/unit/spec/mysql_master_spec.rb"
      },
      "options": {
        "name": {
          "default": "mysql_master"
        }
      }
    },
    "mysql_slave": {
      "dependencies": [
        "mysql-multi"
      ],
      "files": {
        "recipes/<NAME>.rb": "recipes/mysql_slave.rb",
        "test/unit/spec/<NAME>_spec.rb": "test/unit/spec/mysql_slave_spec.rb"
      },
      "options": {
        "name": {
          "default": "mysql_slave"
        }
      }
    },
    "postgres_master": {
      "dependencies": [
        "pg-multi",
        "database"
      ],
      "files": {
        "recipes/<NAME>.rb": "recipes/postgres_master.rb",
        "test/unit/spec/<NAME>_spec.rb": "test/unit/spec/postgres_master_spec.rb"
      },
      "options": {
        "name": {
          "default": "postgres_master"
        }
      }
    }
  }
}
